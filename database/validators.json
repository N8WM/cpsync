{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "validators.json",
  "type": "object",
  "title": "CPSync Validation Schema",
  "required": [
    "terms",
    "buildings",
    "rooms",
    "colleges",
    "subjects",
    "courses",
    "sections",
    "ges",
    "instructors"
  ],
  "properties": {
    "terms": {
      "type": "array",
      "description": "an array of term objects",
      "items": { "$ref": "#/$defs/term" }
    },
    "buildings": {
      "type": "array",
      "description": "an array of building objects",
      "items": { "$ref": "#/$defs/building" }
    },
    "rooms": {
      "type": "array",
      "description": "an array of room objects",
      "items": { "$ref": "#/$defs/room" }
    },
    "colleges": {
      "type": "array",
      "description": "an array of college objects",
      "items": { "$ref": "#/$defs/college" }
    },
    "subjects": {
      "type": "array",
      "description": "an array of subject objects",
      "items": { "$ref": "#/$defs/subject" }
    },
    "courses": {
      "type": "array",
      "description": "an array of course objects",
      "items": { "$ref": "#/$defs/course" }
    },
    "sections": {
      "type": "array",
      "description": "an array of section objects",
      "items": { "$ref": "#/$defs/section" }
    },
    "ges": {
      "type": "array",
      "description": "an array of ge objects",
      "items": { "$ref": "#/$defs/ge" }
    },
    "instructors": {
      "type": "array",
      "description": "an array of instructor objects",
      "items": { "$ref": "#/$defs/instructor" }
    }
  },
  "$defs": {
    "term": {
      "$anchor": "#term",
      "type": "object",
      "title": "Term Object Validation",
      "required": ["id", "path", "start", "end", "season", "year"],
      "properties": {
        "id": {
          "type": "string",
          "description": "term id"
        },
        "start": {
          "type": "string",
          "description": "the term's start date (MM/DD/YYYY)"
        },
        "end": {
          "type": "string",
          "description": "the term's end date"
        },
        "buildings": {
          "type": "array",
          "description": "an array of building ids associated with the term",
          "items": {
            "type": "string"
          }
        },
        "colleges": {
          "type": "array",
          "description": "an array of college ids associated with the term",
          "items": {
            "type": "string"
          }
        },
        "path": {
          "type": "string",
          "description": "the path to the term's page (useful for end users)"
        }
      }
    }
  },
  "building": {
    "$anchor": "#building",
    "type": "object",
    "title": "Building Object Validation",
    "required": ["id", "term_id", "number", "name", "rooms", "path"],
    "properties": {
      "id": {
        "type": "string",
        "description": "building id"
      },
      "term_id": {
        "type": "string",
        "description": "the term id associated with the building"
      },
      "number": {
        "type": "string",
        "description": "the building number"
      },
      "name": {
        "type": "string",
        "description": "the building's friendly name"
      },
      "rooms": {
        "type": "array",
        "description": "an array of room ids for rooms in the building",
        "items": {
          "type": "string"
        }
      },
      "path": {
        "type": "string",
        "description": "the path to the building's page (useful for end users)"
      }
    }
  },
  "room": {
    "$anchor": "#room",
    "type": "object",
    "title": "Room Object Validation",
    "required": [
      "id",
      "term_id",
      "building_id",
      "number",
      "sections",
      "schedule_path",
      "registered_location_capacity",
      "path"
    ],
    "properties": {
      "id": {
        "type": "string",
        "description": "room id"
      },
      "term_id": {
        "type": "string",
        "description": "the term id associated with the room"
      },
      "building_id": {
        "type": "string",
        "description": "the building id of the building the room is in"
      },
      "number": {
        "type": "string",
        "description": "the room number"
      },
      "sections": {
        "type": "array",
        "description": "an array of section ids for sections held in the room",
        "items": {
          "type": "string"
        }
      },
      "schedule_path": {
        "type": "string",
        "description": "the path to the room's schedule page (useful for end users)"
      },
      "registered_location_capacity": {
        "type": "int",
        "description": "the room's registered location capacity"
      },
      "path": {
        "type": "string",
        "description": "the path to the room's page (useful for end users)"
      }
    }
  },
  "college": {
    // TODO: add college properties
    "$anchor": "#college",
    "type": "object",
    "title": "College Object Validation",
    "required": [
      "id",
      "term_id",
      "code",
      "name",
      "subjects",
      "instructors",
      "path"
    ],
    "properties": {}
  },
  "subject": {
    // TODO: add subject properties
    "$anchor": "#subject",
    "type": "object",
    "title": "Subject Object Validation",
    "required": [
      "id",
      "term_id",
      "college_id",
      "code",
      "name",
      "catalogue_url",
      "courses",
      "path"
    ],
    "properties": {}
  },
  "course": {
    // TODO: add course properties
    "$anchor": "#course",
    "type": "object",
    "title": "Course Object Validation",
    "required": [
      "id",
      "term_id",
      "college_id",
      "subject_id",
      "code",
      "name",
      "types",
      "sections",
      "ge_id",
      "requirement_code",
      "requirement_message",
      "path"
    ],
    "properties": {}
  },
  "section": {
    // TODO: add section properties
    "$anchor": "#section",
    "type": "object",
    "title": "Section Object Validation",
    "required": [
      "id",
      "term_id",
      "college_id",
      "subject_id",
      "course_id",
      "code",
      "name",
      "section_number",
      "type",
      "ge_id",
      "requirement_code",
      "requirement_message",
      "days",
      "start",
      "end",
      "instructor_id",
      "location_id",
      "enrollment_capacity",
      "enrolled",
      "waitlisted",
      "path"
    ],
    "properties": {}
  },
  "ge": {
    // TODO: add ge properties
    "$anchor": "#ge",
    "type": "object",
    "title": "GE Object Validation",
    "required": ["id", "term_id", "code", "name", "courses", "path"],
    "properties": {}
  },
  "instructor": {
    // TODO: add instructor properties
    "$anchor": "#instructor",
    "type": "object",
    "title": "Instructor Object Validation",
    "required": [
      "id",
      "term_id",
      "code",
      "name",
      "sections",
      "job_title",
      "office",
      "path"
    ],
    "properties": {}
  }
}
