{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "validators.json",
  "type": "object",
  "title": "CPSync Validation Schema",
  "required": [
    "terms",
    "buildings",
    "rooms",
    "colleges",
    "subjects",
    "courses",
    "sections",
    "ges",
    "instructors"
  ],
  "properties": {
    "terms": {
      "type": "array",
      "description": "an array of term objects",
      "items": { "$ref": "#/$defs/term" }
    },
    "buildings": {
      "type": "array",
      "description": "an array of building objects",
      "items": { "$ref": "#/$defs/building" }
    },
    "rooms": {
      "type": "array",
      "description": "an array of room objects",
      "items": { "$ref": "#/$defs/room" }
    },
    "colleges": {
      "type": "array",
      "description": "an array of college objects",
      "items": { "$ref": "#/$defs/college" }
    },
    "subjects": {
      "type": "array",
      "description": "an array of subject objects",
      "items": { "$ref": "#/$defs/subject" }
    },
    "courses": {
      "type": "array",
      "description": "an array of course objects",
      "items": { "$ref": "#/$defs/course" }
    },
    "sections": {
      "type": "array",
      "description": "an array of section objects",
      "items": { "$ref": "#/$defs/section" }
    },
    "ges": {
      "type": "array",
      "description": "an array of ge objects",
      "items": { "$ref": "#/$defs/ge" }
    },
    "instructors": {
      "type": "array",
      "description": "an array of instructor objects",
      "items": { "$ref": "#/$defs/instructor" }
    }
  },
  "$defs": {
    "term": {
      "$anchor": "#term",
      "type": "object",
      "title": "Term Object Validation",
      "required": [
        "id",
        "start",
        "end",
        "season",
        "year",
        "buildings",
        "colleges",
        "path"
      ],
      "properties": {
        "id": {
          "type": "string",
          "description": "term id"
        },
        "start": {
          "type": "string",
          "description": "the term's start date (MM/DD/YYYY)"
        },
        "end": {
          "type": "string",
          "description": "the term's end date"
        },
        "season": {
          "type": "string",
          "description": "the term's season (ex. 'Fall', 'Spring', 'Winter')"
        },
        "year": {
          "type": "int",
          "description": "the term's year"
        },
        "buildings": {
          "type": "array",
          "description": "an array of building ids associated with the term",
          "items": {
            "type": "string"
          }
        },
        "colleges": {
          "type": "array",
          "description": "an array of college ids associated with the term",
          "items": {
            "type": "string"
          }
        },
        "path": {
          "type": "string",
          "description": "the path to the term's page (useful for end users)"
        }
      }
    }
  },
  "building": {
    "$anchor": "#building",
    "type": "object",
    "title": "Building Object Validation",
    "required": ["id", "term_id", "number", "name", "rooms", "path"],
    "properties": {
      "id": {
        "type": "string",
        "description": "building id"
      },
      "term_id": {
        "type": "string",
        "description": "the term id associated with the building"
      },
      "number": {
        "type": "string",
        "description": "the building number (ex. 038, 006, 181)"
      },
      "name": {
        "type": "string",
        "description": "the building's friendly name (ex. 'Pilling Building', 'Engineering West', 'Crops Unit')"
      },
      "rooms": {
        "type": "array",
        "description": "an array of room ids for rooms in the building",
        "items": {
          "type": "string"
        }
      },
      "path": {
        "type": "string",
        "description": "the path to the building's page (useful for end users)"
      }
    }
  },
  "room": {
    "$anchor": "#room",
    "type": "object",
    "title": "Room Object Validation",
    "required": [
      "id",
      "term_id",
      "building_id",
      "number",
      "sections",
      "schedule_path",
      "registered_location_capacity",
      "path"
    ],
    "properties": {
      "id": {
        "type": "string",
        "description": "room id"
      },
      "term_id": {
        "type": "string",
        "description": "the term id associated with the room"
      },
      "building_id": {
        "type": "string",
        "description": "the building id of the building the room is in"
      },
      "number": {
        "type": "string",
        "description": "the room number (ex. '014-255', '002-0101', '038-0121', '045-0206')"
      },
      "sections": {
        "type": "array",
        "description": "an array of section ids for sections held in the room",
        "items": {
          "type": "string"
        }
      },
      "schedule_path": {
        "type": "string",
        "description": "the path to the room's schedule page (useful for end users)"
      },
      "registered_location_capacity": {
        "type": "int",
        "description": "the room's registered location capacity (ex. 30, 50, 100, 200)"
      },
      "path": {
        "type": "string",
        "description": "the path to the room's page (useful for end users)"
      }
    }
  },
  "college": {
    "$anchor": "#college",
    "type": "object",
    "title": "College Object Validation",
    "required": [
      "id",
      "term_id",
      "code",
      "name",
      "subjects",
      "instructors",
      "path"
    ],
    "properties": {
      "id": {
        "type": "string",
        "description": "college id"
      },
      "term_id": {
        "type": "string",
        "description": "the term id associated with the college"
      },
      "code": {
        "type": "string",
        "description": "the college code"
      },
      "name": {
        "type": "string",
        "description": "the college's friendly name (ex. 'College of Liberal Arts', 'College of Arch & Envr Design', 'Orfalea College of Business', 'College of Science and Mathematics')"
      },
      "subjects": {
        "type": "array",
        "description": "an array of subject ids associated with the college",
        "items": {
          "type": "string"
        }
      },
      "instructors": {
        "type": "array",
        "description": "an array of instructor ids associated with the college",
        "items": {
          "type": "string"
        }
      },
      "path": {
        "type": "string",
        "description": "the path to the college's page (useful for end users)"
      }
    }
  },
  "subject": {
    "$anchor": "#subject",
    "type": "object",
    "title": "Subject Object Validation",
    "required": [
      "id",
      "term_id",
      "college_id",
      "code",
      "name",
      "catalogue_url",
      "courses",
      "path"
    ],
    "properties": {
      "id": {
        "type": "string",
        "description": "subject id"
      },
      "term_id": {
        "type": "string",
        "description": "the term id associated with the subject"
      },
      "college_id": {
        "type": "string",
        "description": "the college id associated with the subject"
      },
      "code": {
        "type": "string",
        "description": "the subject code (ex. 'CSC', 'KINE', 'MATH', 'ENGL', 'BIO')"
      },
      "name": {
        "type": "string",
        "description": "the subject's friendly name (ex. 'Computer Science', 'Kinesiology', 'Mathematics', 'English', 'Biology')"
      },
      "catalogue_url": {
        "type": "string",
        "description": "the url to the subject's catalogue page (useful for end users)"
      },
      "courses": {
        "type": "array",
        "description": "an array of course ids associated with the subject",
        "items": {
          "type": "string"
        }
      },
      "path": {
        "type": "string",
        "description": "the path to the subject's page (useful for end users)"
      }
    }
  },
  "course": {
    "$anchor": "#course",
    "type": "object",
    "title": "Course Object Validation",
    "required": [
      "id",
      "term_id",
      "college_id",
      "subject_id",
      "code",
      "name",
      "types",
      "sections",
      "ge_id",
      "requirement_code",
      "requirement_message",
      "path"
    ],
    "properties": {
      "id": {
        "type": "string",
        "description": "course id"
      },
      "term_id": {
        "type": "string",
        "description": "the term id associated with the course"
      },
      "college_id": {
        "type": "string",
        "description": "the college id associated with the course"
      },
      "subject_id": {
        "type": "string",
        "description": "the subject id associated with the course"
      },
      "code": {
        "type": "string",
        "description": "the course code (ex. 'CSC-453', 'KINE-100', 'MATH-141', 'ENGL-101')"
      },
      "name": {
        "type": "string",
        "description": "the course's friendly name (ex. 'Operating Systems', 'Introduction to Kinesiology', 'Calculus I', 'Composition I')"
      },
      "types": {
        "type": "array",
        "description": "an array of types associated with sections of the course",
        "items": {
          "type": "string"
        }
      },
      "sections": {
        "type": "array",
        "description": "an array of section ids associated with the course",
        "items": {
          "type": "string"
        }
      },
      "ge_id": {
        "type": ["string", "null"],
        "description": "the ge id associated with the course, if one exists"
      },
      "requirement_code": {
        "type": ["string", "null"],
        "description": "the requirement code associated with the course, if one exists"
      },
      "requirement_message": {
        "type": ["string", "null"],
        "description": "the requirement message associated with the course, if one exists (ex. Prerequisite: CSC-349)"
      },
      "path": {
        "type": "string",
        "description": "the path to the course's page (useful for end users)"
      }
    }
  },
  "section": {
    "$anchor": "#section",
    "type": "object",
    "title": "Section Object Validation",
    "required": [
      "id",
      "term_id",
      "college_id",
      "subject_id",
      "course_id",
      "code",
      "name",
      "section_number",
      "type",
      "ge_id",
      "requirement_code",
      "requirement_message",
      "days",
      "start",
      "end",
      "instructor_id",
      "room_id",
      "enrollment_capacity",
      "enrolled",
      "waitlisted",
      "path"
    ],
    "properties": {
      "id": {
        "type": "string",
        "description": "section id"
      },
      "term_id": {
        "type": "string",
        "description": "the term id associated with the section"
      },
      "college_id": {
        "type": "string",
        "description": "the college id associated with the section"
      },
      "subject_id": {
        "type": "string",
        "description": "the subject id associated with the section"
      },
      "course_id": {
        "type": "string",
        "description": "the course id associated with the section"
      },
      "code": {
        "type": "string",
        "description": "the section code"
      },
      "name": {
        "type": "string",
        "description": "the section's friendly name (ex. 'CSC 582', 'KINE 100', 'MATH 141', 'ENGL 101')"
      },
      "section_number": {
        "type": "string",
        "description": "the section number"
      },
      "type": {
        "type": "string",
        "description": "the section type (ex. 'Lecture', 'Lab', 'Discussion')"
      },
      "ge_id": {
        "type": ["string", "null"],
        "description": "the ge id associated with the section, if one exists"
      },
      "requirement_code": {
        "type": ["string", "null"],
        "description": "the requirement code associated with the section, if one exists"
      },
      "requirement_message": {
        "type": ["string", "null"],
        "description": "the requirement message associated with the section, if one exists (ex. Prerequisite: CSC-349)"
      },
      "days": {
        "type": "string",
        "description": "the days the section meets (ex. 'MWF', 'TR', 'MW')"
      },
      "start": {
        "type": "string",
        "description": "the start time of the section"
      },
      "end": {
        "type": "string",
        "description": "the end time of the section"
      },
      "instructor_id": {
        "type": "string",
        "description": "the id of the instructor who teaches the section"
      },
      "room_id": {
        "type": "string",
        "description": "the room id associated with the section"
      },
      "enrollment_capacity": {
        "type": "integer",
        "description": "the enrollment capacity of the section"
      },
      "enrolled": {
        "type": "integer",
        "description": "the number of students enrolled in the section"
      },
      "waitlisted": {
        "type": "integer",
        "description": "the number of students waitlisted in the section"
      },
      "path": {
        "type": "string",
        "description": "the path to the section's page (useful for end users)"
      }
    }
  },
  "ge": {
    "$anchor": "#ge",
    "type": "object",
    "title": "GE Object Validation",
    "required": ["id", "term_id", "code", "name", "courses", "path"],
    "properties": {
      "id": {
        "type": "string",
        "description": "ge id"
      },
      "term_id": {
        "type": "string",
        "description": "the term id associated with the ge"
      },
      "code": {
        "type": "string",
        "description": "the ge code (ex. 'C2', 'D3', 'E1')"
      },
      "name": {
        "type": "string",
        "description": "the ge's friendly name (ex. 'C2 Humanities', 'A1 Oral Communication', 'D1 American Institutions')"
      },
      "courses": {
        "type": "array",
        "description": "an array of course ids associated with the ge",
        "items": {
          "type": "string"
        }
      },
      "path": {
        "type": "string",
        "description": "the path to the ge's page (useful for end users)"
      }
    }
  },
  "instructor": {
    "$anchor": "#instructor",
    "type": "object",
    "title": "Instructor Object Validation",
    "required": [
      "id",
      "term_id",
      "code",
      "name",
      "sections",
      "job_title",
      "office",
      "path"
    ],
    "properties": {
      "id": {
        "type": "string",
        "description": "instructor id"
      },
      "term_id": {
        "type": "string",
        "description": "the term id associated with the instructor"
      },
      "code": {
        "type": "string",
        "description": "the instructor code (ex. 'foaad', 'siu', 'bellardo')"
      },
      "name": {
        "type": "string",
        "description": "the instructor's friendly name (ex. 'Khosmood, Foaad', 'Siu, Chris', 'Bellardo, John')"
      },
      "sections": {
        "type": "array",
        "description": "an array of section ids the professor teaches",
        "items": {
          "type": "string"
        }
      },
      "job_title": {
        "type": "string",
        "description": "the instructor's job title"
      },
      "office": {
        "type": "string",
        "description": "the room id of the instructor's office"
      },
      "path": {
        "type": "string",
        "description": "the path to the instructor's page (useful for end users)"
      }
    }
  }
}
